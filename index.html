<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Live FPL Stats - Your Free FPL Command Center</title>
    <meta name="description" content="Free Fantasy Premier League statistics, live league tables, price predictor, fixture difficulty, and comprehensive FPL analytics tools.">
    <link rel="stylesheet" href="css/styles.css">
</head>
<body>

    <!-- Navigation -->
    <nav id="main-nav">
        <div class="nav-container">
            <div class="nav-brand">
                <img src="logotest3.png" alt="Live FPL Stats" class="nav-logo" />
            </div>
            <div class="nav-links">
                <a href="/" data-link class="nav-link">Home</a>
                <a href="/fixtures" data-link class="nav-link">Fixtures</a>
                <a href="/players" data-link class="nav-link">Players</a>
                <a href="/prices" data-link class="nav-link" style="display: none;">Prices</a>
                <a href="/planner" data-link class="nav-link" style="display: none;">Planner</a>
                <a href="/template" data-link class="nav-link">Top Owned</a>
                <a href="/my-stats" data-link class="nav-link">My Stats</a>
            </div>
            <div class="nav-actions" style="display: none;">
                <button id="theme-toggle" class="theme-toggle" title="Toggle dark/light mode">
                    <span id="theme-icon">‚òÄÔ∏è</span>
                </button>
            </div>
        </div>
    </nav>

    <!-- Main Content Area -->
    <div id="app">
        <!-- Content will be dynamically loaded here -->
    </div>

    <!-- Loading Spinner -->
    <div id="global-loading" style="display:none;">
        <div class="spinner"></div>
        <p>Loading...</p>
    </div>

    <!-- Theme Switcher Script -->
    <script>
        // Dark/Light Mode Toggle
        (function() {
            const themeToggle = document.getElementById('theme-toggle');
            const themeIcon = document.getElementById('theme-icon');
            const savedMode = localStorage.getItem('theme-mode') || 'dark';

            // Apply saved theme on page load
            applyTheme(savedMode);

            // Toggle theme when button is clicked
            themeToggle.addEventListener('click', function() {
                const currentMode = localStorage.getItem('theme-mode') || 'dark';
                const newMode = currentMode === 'dark' ? 'light' : 'dark';
                localStorage.setItem('theme-mode', newMode);
                applyTheme(newMode);
            });

            function applyTheme(mode) {
                const existingThemeLink = document.getElementById('theme-stylesheet');

                if (mode === 'light') {
                    // Light mode: Load ice-light theme
                    if (existingThemeLink) {
                        existingThemeLink.href = 'css/themes/theme-ice-light.css';
                    } else {
                        const link = document.createElement('link');
                        link.id = 'theme-stylesheet';
                        link.rel = 'stylesheet';
                        link.href = 'css/themes/theme-ice-light.css';
                        document.head.appendChild(link);
                    }
                    themeIcon.textContent = 'üåô';
                } else {
                    // Dark mode: Use default fire theme (remove theme CSS)
                    if (existingThemeLink) {
                        existingThemeLink.remove();
                    }
                    themeIcon.textContent = '‚òÄÔ∏è';
                }
            }
        })();
    </script>

    <!-- Scripts -->
    <script src="js/api.js"></script>
    <script src="js/dreamteam.js"></script>
    <script src="js/router.js"></script>
    <script src="js/pages/home.js"></script>
    <script src="js/pages/comparison.js"></script>
    <script src="js/pages/fixtures.js"></script>
    <script src="js/pages/players.js"></script>
    <script src="js/pages/price-predictor.js"></script>
    <script src="js/pages/compare-players.js"></script>
    <script src="js/pages/planner.js"></script>
    <script src="js/pages/template.js"></script>
    <script src="js/pages/my-stats.js"></script>
    <script src="js/app.js"></script>
</body>
</html>
